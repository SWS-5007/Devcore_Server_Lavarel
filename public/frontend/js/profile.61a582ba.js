(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["profile"],{"0e98":function(e,a,r){"use strict";r.r(a);var t=function(){var e=this,a=e._self._c;return a("div",[a("b-spinner",{staticStyle:{color:"lightgray"}})],1)},s=[],o=r("c7eb"),i=r("1da1"),n=r("5530"),l=(r("b0c0"),r("ac1f"),r("5319"),r("9fee")),c=r("b279"),d=r("2f62"),u={data:function(){return{exists:""}},computed:Object(n["a"])({},Object(d["b"])({shareLink:"app/shared",user:"auth/user"})),mounted:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function a(){var r,t;return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if("undefined"!==typeof e.shareLink.id){a.next=8;break}if(e.$store.dispatch("app/shared",""),!e.user||"User"!==e.user.roles[0].name){a.next=6;break}window.location.replace("https://devcore.app/mobile/home"),a.next=8;break;case 6:return a.next=8,e.$router.replace("/");case 8:return r=new l["a"]({id:e.shareLink.id}),a.prev=9,Object(c["a"])(),a.next=13,e.$store.dispatch("shareLink/shareProjectByLinkId",r);case 13:if(t=a.sent,!t.data.shareProjectByLinkId){a.next=22;break}if(console.log("exist link"),e.$store.dispatch("app/shared",""),!e.user||"User"!==e.user.roles[0].name){a.next=20;break}return window.location.replace("https://devcore.app/mobile/home"),a.abrupt("return");case 20:a.next=24;break;case 22:console.log("Invalid Link"),e.$store.dispatch("app/shared","");case 24:return a.next=26,e.$router.replace("/");case 26:Object(c["j"])(),a.next=32;break;case 29:a.prev=29,a.t0=a["catch"](9),console.log(a.t0);case 32:case"end":return a.stop()}}),a,null,[[9,29]])})))()}},m=u,f=r("2877"),b=Object(f["a"])(m,t,s,!1,null,null,null);a["default"]=b.exports},"5ab6":function(e,a,r){"use strict";r("c83d")},"7ce3":function(e,a,r){"use strict";r.r(a);var t=function(){var e=this,a=e._self._c;return a("div",{staticClass:"spcustom-container"},[a("div",{staticClass:"page bg-white"},[a("div",{staticClass:"container"},[a("h2",{staticClass:"h1 border-bottom"},[e._v(e._s(e.user.fullName))]),a("b-form",{staticClass:"floating-labels",on:{submit:function(a){return a.preventDefault(),e.save.apply(null,arguments)},keyup:function(a){return e.$validator.validateAll()}}},[a("div",{staticClass:"text-center"},[a("image-upload",{ref:"uploader",staticClass:"rounded",attrs:{uploading:e.form.busy,"current-image":e.user.getAvatarUrl("200x200")},on:{remove:function(){return e.form.deleteAvatar=!0}},model:{value:e.form.file,callback:function(a){e.$set(e.form,"file",a)},expression:"form.file"}}),a("b-form-invalid-feedback",[e._v(e._s(e.$displayError("avatar",e.form)))])],1),a("hr"),a("b-row",[a("b-col",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"form-label-group required"},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{id:"firstName",disabled:e.form.busy,placeholder:e.$t("First name"),type:"text",name:"firstName",state:e.$validateState("firstName",e.form)},model:{value:e.form.firstName,callback:function(a){e.$set(e.form,"firstName",a)},expression:"form.firstName"}}),a("label",{attrs:{for:"firstName"}},[a("i",{staticClass:"mdi mdi-account"}),e._v(" "+e._s(e.$t("First name"))+" ")]),a("b-form-invalid-feedback",[e._v(e._s(e.$displayError("firstName",e.form)))])],1)]),a("b-col",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"form-label-group required"},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{id:"lastName",disabled:e.form.busy,placeholder:e.$t("Last name"),type:"text",name:"lastName",state:e.$validateState("lastName",e.form)},model:{value:e.form.lastName,callback:function(a){e.$set(e.form,"lastName",a)},expression:"form.lastName"}}),a("label",{attrs:{for:"lastName"}},[a("i",{staticClass:"mdi mdi-account"}),e._v(" "+e._s(e.$t("Last name"))+" ")]),a("b-form-invalid-feedback",[e._v(e._s(e.$displayError("lastName",e.form)))])],1)])],1),a("b-row",[a("b-col",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"form-label-group required"},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],attrs:{id:"email",disabled:e.form.busy,placeholder:e.$t("Email"),state:e.$validateState("email",e.form),type:"email",name:"email"},model:{value:e.form.email,callback:function(a){e.$set(e.form,"email",a)},expression:"form.email"}}),a("label",{attrs:{for:"email"}},[a("i",{staticClass:"mdi mdi-email"}),e._v(" "+e._s(e.$t("Email"))+" ")]),a("b-form-invalid-feedback",[e._v(e._s(e.$displayError("email",e.form)))])],1)]),a("b-col",{staticClass:"col-12 col-lg-6"},[a("b-card",{staticClass:"p-0 border",staticStyle:{overflow:"hidden"},attrs:{"no-body":""}},[a("b-card-header",[a("div",[a("b-form-checkbox",{attrs:{id:"manageNotifications",name:"manageNotifications",checked:"",value:!0,"unchecked-value":!1},model:{value:e.form.notifications,callback:function(a){e.$set(e.form,"notifications",a)},expression:"form.notifications"}},[e._v(e._s(e.form.notifications?e.$t("Notifications allowed"):e.$t("Notifications disallowed")))])],1)])],1)],1)],1),a("b-row",[a("b-col",[a("b-card",{key:e.intent,staticClass:"p-0 border",class:e.user.mustChangePassword?"shake-password":"",staticStyle:{overflow:"hidden"},attrs:{"no-body":""}},[e._t("default",(function(){return[a("b-card-header",[a("div",[a("b-form-checkbox",{attrs:{id:"changePassword",disabled:e.user.mustChangePassword,name:"changePassword",value:!0,"unchecked-value":!1},model:{value:e.getFormChangePassword,callback:function(a){e.getFormChangePassword=a},expression:"getFormChangePassword"}},[e._v(e._s(e.$t("Change my password")))])],1)]),a("b-collapse",{staticClass:"shake-password",attrs:{id:"changePasswordCollapse",visible:e.form.changePassword||e.user.mustChangePassword}},[a("b-card-body",[a("b-row",[a("b-col",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"form-label-group required"},[a("b-form-input",{ref:"password",staticClass:"shadow-sm",attrs:{id:"password","v-validate":{required:e.form.changePassword,min:6},state:e.$validateState("password",e.form),disabled:e.form.busy,placeholder:e.$t("Password"),type:"password",name:"password",autocomplete:"new-password"},model:{value:e.form.password,callback:function(a){e.$set(e.form,"password",a)},expression:"form.password"}}),a("label",{attrs:{for:"password"}},[a("i",{staticClass:"mdi mdi-lock-question"}),e._v(" "+e._s(e.$t("Password"))+" ")]),a("b-form-invalid-feedback",[e._v(e._s(e.$displayError("password",e.form)))])],1)]),a("b-col",{staticClass:"col-12 col-lg-6"},[a("div",{staticClass:"form-label-group required"},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required_if:".concat(e.form.changePassword,"|confirmed:password"),expression:"\n                                `required_if:${form.changePassword}|confirmed:password`\n                              "}],ref:"passwordConfirmation",staticClass:"shadow-sm",attrs:{id:"passwordConfirmation",state:e.$validateState("passwordConfirmation",e.form),disabled:e.form.busy,placeholder:e.$t("Password confirm"),type:"password",name:"passwordConfirmation"},model:{value:e.form.passwordConfirmation,callback:function(a){e.$set(e.form,"passwordConfirmation",a)},expression:"form.passwordConfirmation"}}),a("label",{attrs:{for:"passwordConfirmation"}},[a("i",{staticClass:"mdi mdi-lock-question"}),e._v(" "+e._s(e.$t("Password confirm"))+" ")]),a("b-form-invalid-feedback",[e._v(e._s(e.$displayError("passwordConfirmation",e.form)))])],1)])],1)],1)],1)]}))],2)],1)],1),a("b-row",[a("b-col",[a("hr"),a("loading-button",{staticClass:"shadow",attrs:{type:"submit",size:"lg",disabled:e.form.busy||e.vErrors.any(),loading:e.form.busy,block:!0,variant:"primary"}},[e._v(e._s(e.$t("Save changes")))])],1)],1)],1)],1)])])},s=[],o=r("c7eb"),i=r("1da1"),n=r("5530"),l=(r("d3b7"),r("159b"),r("4de4"),r("b64b"),r("2f62")),c=r("9fee"),d=(r("b279"),{data:function(){return{route:null,intent:Math.random(),form:new c["a"]({file:null,firstName:null,lastName:null,email:null,changePassword:!1,password:null,passwordConfirmation:null,deleteAvatar:null,notifications:!0})}},computed:Object(n["a"])(Object(n["a"])({},Object(l["b"])({user:"auth/user"})),{},{getFormChangePassword:{get:function(){return this.form.changePassword},set:function(e){this.form.changePassword=!this.user.mustChangePassword&&e}}}),watch:{$route:{immediate:!0,handler:function(e){e.query.i&&(this.intent=Math.random(),this.form.changePassword=!0)}}},mounted:function(){this.initForm()},methods:{initForm:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function a(){return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:Object.keys(e.user).filter((function(a){return a in e.form})).forEach((function(a){return e.form[a]=e.user[a]})),console.log(e.user),e.$refs.uploader.image=e.user.getAvatarUrl("200x200");case 3:case"end":return a.stop()}}),a)})))()},save:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function a(){return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$validator.validateAll();case 2:if(e.vErrors.any()){a.next=8;break}return a.next=5,e.$validator.reset();case 5:return a.next=7,e.$store.dispatch("auth/updateProfile",e.form);case 7:e.initForm();case 8:case"end":return a.stop()}}),a)})))()}}}),u=d,m=(r("5ab6"),r("2877")),f=Object(m["a"])(u,t,s,!1,null,"ea60b15c",null);a["default"]=f.exports},c83d:function(e,a,r){},e449:function(e,a,r){"use strict";r.r(a);r("b0c0");var t=function(){var e=this,a=e._self._c;return a("div",{staticClass:"spcustom-container"},[a("div",{staticClass:"page bg-white"},[a("div",{staticClass:"container"},[a("h2",{staticClass:"h1 border-bottom"},[e._v(e._s(e.company.name))]),a("b-form",{staticClass:"floating-labels",on:{submit:function(a){return a.preventDefault(),e.save.apply(null,arguments)},keyup:function(a){return e.$validator.validateAll()}}},[a("div",{staticClass:"text-center"},[a("image-upload",{ref:"uploader",staticClass:"rounded",attrs:{uploading:e.form.busy,"current-image":e.company.getLogoUrl("200x200")},on:{remove:function(){return e.form.deleteLogo=!0}},model:{value:e.form.file,callback:function(a){e.$set(e.form,"file",a)},expression:"form.file"}})],1),a("hr"),a("b-row",[a("b-col",[a("div",{staticClass:"form-label-group required"},[a("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|min:2",expression:"'required|min:2'"}],attrs:{id:"name",disabled:e.form.busy,placeholder:e.$t("Name"),type:"text",name:"name",state:e.$validateState("name",e.form)},model:{value:e.form.name,callback:function(a){e.$set(e.form,"name",a)},expression:"form.name"}}),a("label",{attrs:{for:"name"}},[a("i",{staticClass:"mdi mdi-domain"}),e._v(" "+e._s(e.$t("Name"))+" ")]),a("b-form-invalid-feedback",[e._v(e._s(e.$displayError("name",e.form)))])],1)])],1),a("b-row",[a("b-col",[a("div",{staticClass:"form-label-group select required"},[a("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],attrs:{id:"currencyCode",disabled:e.form.busy,placeholder:e.$t("Currency"),type:"text",name:"currencyCode",state:e.$validateState("currencyCode",e.form)},model:{value:e.form.currencyCode,callback:function(a){e.$set(e.form,"currencyCode",a)},expression:"form.currencyCode"}},[a("option",{domProps:{value:null}},[e._v("--- "+e._s(e.$t("None"))+" ---")]),e._l(e.currencies,(function(r,t){return a("option",{key:t,domProps:{value:r.code}},[e._v(e._s(r.name)+" | "+e._s(r.symbol)+" ("+e._s(r.code)+")")])}))],2),a("label",{attrs:{for:"currencyCode"}},[a("i",{staticClass:"mdi mdi-home-currency-usd"}),e._v(" "+e._s(e.$t("Currency"))+" ")]),a("b-form-invalid-feedback",[e._v(e._s(e.$displayError("currencyCode",e.form)))])],1)])],1),a("b-row",[a("b-col",[a("hr"),a("loading-button",{staticClass:"shadow",attrs:{type:"submit",size:"lg",disabled:e.form.busy||e.vErrors.any(),loading:e.form.busy,block:!0,variant:"primary"}},[e._v(e._s(e.$t("Save changes")))])],1)],1)],1)],1)])])},s=[],o=r("c7eb"),i=r("1da1"),n=r("5530"),l=(r("d3b7"),r("159b"),r("4de4"),r("b64b"),r("2f62")),c=r("9fee"),d={data:function(){return{form:new c["a"]({file:null,currencyCode:null,name:null,deleteLogo:!1})}},computed:Object(n["a"])({},Object(l["b"])({company:"auth/company",currencies:"currency/all"})),mounted:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function a(){return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$store.dispatch("currency/findAll");case 2:e.initForm();case 3:case"end":return a.stop()}}),a)})))()},methods:{initForm:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function a(){return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:Object.keys(e.company).filter((function(a){return a in e.form})).forEach((function(a){return e.form[a]=e.company[a]})),e.$refs.uploader.image=e.company.getLogoUrl("200x200");case 2:case"end":return a.stop()}}),a)})))()},save:function(){var e=this;return Object(i["a"])(Object(o["a"])().mark((function a(){return Object(o["a"])().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$validator.validateAll();case 2:if(e.vErrors.any()){a.next=8;break}return a.next=5,e.$validator.reset();case 5:return a.next=7,e.$store.dispatch("auth/updateCompany",e.form);case 7:e.initForm();case 8:case"end":return a.stop()}}),a)})))()}}},u=d,m=r("2877"),f=Object(m["a"])(u,t,s,!1,null,null,null);a["default"]=f.exports}}]);